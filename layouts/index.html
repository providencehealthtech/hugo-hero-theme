{{ define "title" }}{{ .Site.Title }}{{ end}}
{{ define "header_css" }}{{ end }}
{{ define "body_classes" }}page-home{{ end }}
{{ define "header_classes" }}header-transparent{{ end }}

{{ define "meta_tags" }}
<meta name="description" content="{{ .Site.Params.homepage_meta_tags.meta_description }}" />
<meta property="og:title" content="{{ .Site.Params.homepage_meta_tags.meta_og_title }}" />
<meta property="og:type" content="{{ .Site.Params.homepage_meta_tags.meta_og_type }}" />
<meta property="og:url" content="{{ .Site.Params.homepage_meta_tags.meta_og_url }}" />
<meta property="og:image" content="{{ .Site.Params.homepage_meta_tags.meta_og_image }}" />
<meta property="og:description" content="{{ .Site.Params.homepage_meta_tags.meta_og_description }}" />
<meta name="twitter:card" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_card }}" />
<meta name="twitter:site" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_site }}" />
<meta name="twitter:creator" content="{{ .Site.Params.homepage_meta_tags.meta_twitter_creator }}" />
{{ end }}

{{ define "main" }}

{{ partial "homepage/hero.html" . }}

{{ $headless := .Site.GetPage "homepage" }}
{{ $reusablePages := $headless.Pages }}
{{ $reusablePages := sort $reusablePages ".Params.weight" }}

{{/*  Prioritize the top-most reusable page  */}}
{{ with index $reusablePages 0 }}
<div id="home" class='strip {{ delimit .Params.bg_classes " " }}'>
  <div class="container py-5">
    <div class="row">
      <div class="col-12">
        <h2 class="text-capitalize">{{ .Title }}</h2>
        <span class="lead">{{ .Content }}</span>
        <a class="button" {{ with .Params.buttonClasses }}class="{{ delimit . " " }}"{{ end }} href="{{ .Params.buttonLink | relURL }}">{{ .Params.button }}</a>
      </div>
    </div>
  </div>
</div>
{{ end }}

{{ partial "homepage/services_list.html" . }}

{{ range first 1 (after 1 $reusablePages) }}
<div id="home" class="strip bg-primary bg-cover bg-position-top bg-overlay" style='background-image: url("{{ .Params.background | relURL }}");'>
  <div class="container pt-8 pb-8 pb-md-12 pt-md-12">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8 text-center text-white">
        <h2 class="text-white">{{ .Title }}</h2>
        {{ .Content }}
        <a class="button button-white" href="{{ .Params.buttonLink | relURL }}">{{ .Params.button }}</a>
      </div>
    </div>
  </div>
</div>
{{ end }}

{{ range first 3 (after 2 $reusablePages) }}
{{ $supressTitle := default false .Params.supressTitle }}
<div id="home" class="strip bg-cover bg-position-top bg-overlay" style='background-image: url("{{ .Params.background | relURL }}");'>
  <div class="container pt-4 pb-4 pb-md-4 pt-md-4">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8 text-center content">
        {{ if (eq $supressTitle false) }}<h2>{{ .Title }}</h2>{{ end }}
        {{ .Content }}
        <a class="btn btn-primary" href="{{ .Params.buttonLink | relURL }}">{{ .Params.button }}</a>
      </div>
    </div>
  </div>
</div>
{{ end }}

{{ end }}

{{ define "footer_js" }}
{{ end }}
